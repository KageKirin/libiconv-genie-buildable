# iconv GENie buildable

This repo contains libiconv-1.15 as extracted from tarball.
~~No modifications were made, only the build process was run once to generate header and Makefiles.~~
Modifications were made: see below

The point of this repo is to be integrated into larger projects via gclient DEPSfile reference and built 
through a Premake/GENie meta-project-file-generated Xcode/VS project.

## IMPORTANT: Modifications

In order to fix build issues when building for Android, following modifications were undertaken:

### Generated `config.h` copied to `my/`

The `config.h` generated by running ./configure.sh on macOS
has been copied to the folder `my` at the root of the repository.

### Generated `iconv.h` copied to `my/` as `iconv.my.h`

The `iconv.h` generated by running ./configure.sh on macOS
has been copied to the folder `my` at the root of the repository
and renamed to `iconv.my.h` to avoid include a similarly named system header.

### `#include <iconv.h>` changed to `#include "iconv.my.h"`

Source and header files that were spotting a `#include <iconv.h>`
were modified to feature `#include "iconv.my.h"` instead.

The sample project file (`.lua`) reflects these changes.

## IMPORTANT: When upgrading

DO NOT DELETE EVERYTHING
or if you do, make sure to re-cherrypick the modifications.
